de.metas.contracts.commission.commissioninstance.services.repos.CommissionInstanceRepositoryTest.getByDocumentId_InvoiceCandidateId=[ {
  "id" : 100018,
  "currentTriggerData" : {
    "orgId" : 100001,
    "triggerDocumentId" : {
      "invoiceCandidateId" : 10,
      "repoIdAware" : 10
    },
    "triggerType" : "InvoiceCandidate",
    "invoiceCandidateWasDeleted" : false,
    "timestamp" : "2019-09-17T11:50:55Z",
    "triggerDocumentDate" : "2020-03-21",
    "forecastedBasePoints" : 10,
    "invoiceableBasePoints" : 11,
    "invoicedBasePoints" : 12,
    "productId" : 100015,
    "totalQtyInvolved" : {
      "qty" : "10",
      "uomId" : 100004
    },
    "documentCurrencyId" : 1,
    "commissionBase" : 33
  },
  "shares" : [ {
    "id" : 100019,
    "config" : {
      "@type" : "HierarchyConfig",
      "id" : 100005,
      "commissionProductId" : 100003,
      "subtractLowerLevelCommissionFromBase" : true,
      "bpartnerId2HierarchyContracts" : {
        "100009" : {
          "@type" : "HierarchyContract",
          "id" : 100010,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        },
        "100012" : {
          "@type" : "HierarchyContract",
          "id" : 100013,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        }
      },
      "commissionType" : "HIERARCHY_COMMISSION"
    },
    "level" : 10,
    "beneficiary" : {
      "bPartnerId" : 100009
    },
    "facts" : [ {
      "timestamp" : "2019-09-17T11:49:25Z",
      "state" : "FORECASTED",
      "points" : 10
    }, {
      "timestamp" : "2019-09-17T11:49:35Z",
      "state" : "FORECASTED",
      "points" : -9
    }, {
      "timestamp" : "2019-09-17T11:49:45Z",
      "state" : "INVOICEABLE",
      "points" : 1.1
    }, {
      "timestamp" : "2019-09-17T11:49:55Z",
      "state" : "INVOICED",
      "points" : 1.2
    } ],
    "payer" : {
      "bpartnerId" : 1001
    },
    "soTrx" : "PURCHASE",
    "forecastedPointsSum" : 1,
    "invoiceablePointsSum" : 1.1,
    "invoicedPointsSum" : 1.2,
    "contract" : {
      "@type" : "HierarchyContract",
      "id" : 100010,
      "pointsPrecision" : 2,
      "commissionSettingsLineId" : 100007,
      "commissionPercent" : 10,
      "simulation" : false
    },
    "commissionProductId" : 100003
  }, {
    "id" : 100026,
    "config" : {
      "@type" : "HierarchyConfig",
      "id" : 100005,
      "commissionProductId" : 100003,
      "subtractLowerLevelCommissionFromBase" : true,
      "bpartnerId2HierarchyContracts" : {
        "100009" : {
          "@type" : "HierarchyContract",
          "id" : 100010,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        },
        "100012" : {
          "@type" : "HierarchyContract",
          "id" : 100013,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        }
      },
      "commissionType" : "HIERARCHY_COMMISSION"
    },
    "level" : 20,
    "beneficiary" : {
      "bPartnerId" : 100012
    },
    "facts" : [ {
      "timestamp" : "2019-09-17T11:50:25Z",
      "state" : "FORECASTED",
      "points" : 2
    }, {
      "timestamp" : "2019-09-17T11:50:35Z",
      "state" : "INVOICEABLE",
      "points" : 2.1
    }, {
      "timestamp" : "2019-09-17T11:50:45Z",
      "state" : "INVOICED",
      "points" : 10
    }, {
      "timestamp" : "2019-09-17T11:50:55Z",
      "state" : "INVOICED",
      "points" : -7.8
    } ],
    "payer" : {
      "bpartnerId" : 1001
    },
    "soTrx" : "PURCHASE",
    "forecastedPointsSum" : 2,
    "invoiceablePointsSum" : 2.1,
    "invoicedPointsSum" : 2.2,
    "contract" : {
      "@type" : "HierarchyContract",
      "id" : 100013,
      "pointsPrecision" : 2,
      "commissionSettingsLineId" : 100007,
      "commissionPercent" : 10,
      "simulation" : false
    },
    "commissionProductId" : 100003
  } ]
} ]


de.metas.contracts.commission.commissioninstance.services.repos.CommissionInstanceRepositoryTest.getByDocumentId_InvoiceLineId=[ {
  "id" : 100015,
  "currentTriggerData" : {
    "orgId" : 100001,
    "triggerDocumentId" : {
      "invoiceLineId" : {
        "repoId" : 15,
        "invoiceId" : 10
      },
      "repoIdAware" : {
        "repoId" : 15,
        "invoiceId" : 10
      }
    },
    "triggerType" : "SalesInvoice",
    "invoiceCandidateWasDeleted" : false,
    "timestamp" : "1970-01-01T00:00:00.123Z",
    "triggerDocumentDate" : "2020-03-21",
    "forecastedBasePoints" : 0,
    "invoiceableBasePoints" : 0,
    "invoicedBasePoints" : 100,
    "productId" : 100012,
    "totalQtyInvolved" : {
      "qty" : "10",
      "uomId" : 100004
    },
    "documentCurrencyId" : 1,
    "commissionBase" : 100
  },
  "shares" : [ {
    "id" : 100016,
    "config" : {
      "@type" : "HierarchyConfig",
      "id" : 100005,
      "commissionProductId" : 100003,
      "subtractLowerLevelCommissionFromBase" : true,
      "bpartnerId2HierarchyContracts" : {
        "100009" : {
          "@type" : "HierarchyContract",
          "id" : 100010,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        }
      },
      "commissionType" : "HIERARCHY_COMMISSION"
    },
    "level" : 10,
    "beneficiary" : {
      "bPartnerId" : 100009
    },
    "facts" : [ ],
    "payer" : {
      "bpartnerId" : 1001
    },
    "soTrx" : "PURCHASE",
    "forecastedPointsSum" : 0,
    "invoiceablePointsSum" : 0,
    "invoicedPointsSum" : 0,
    "contract" : {
      "@type" : "HierarchyContract",
      "id" : 100010,
      "pointsPrecision" : 2,
      "commissionSettingsLineId" : 100007,
      "commissionPercent" : 10,
      "simulation" : false
    },
    "commissionProductId" : 100003
  } ]
} ]


de.metas.contracts.commission.commissioninstance.services.repos.CommissionInstanceRepositoryTest.save=[ {
  "id" : 100018,
  "currentTriggerData" : {
    "orgId" : 100001,
    "triggerDocumentId" : {
      "invoiceCandidateId" : 100016,
      "repoIdAware" : 100016
    },
    "triggerType" : "InvoiceCandidate",
    "invoiceCandidateWasDeleted" : false,
    "timestamp" : "2019-09-17T11:50:35Z",
    "triggerDocumentDate" : "2020-03-21",
    "forecastedBasePoints" : 10,
    "invoiceableBasePoints" : 11,
    "invoicedBasePoints" : 12,
    "productId" : 100014,
    "totalQtyInvolved" : {
      "qty" : "10",
      "uomId" : 100017
    },
    "documentCurrencyId" : 1,
    "commissionBase" : 33
  },
  "shares" : [ {
    "id" : 100019,
    "config" : {
      "@type" : "HierarchyConfig",
      "id" : 100005,
      "commissionProductId" : 100003,
      "subtractLowerLevelCommissionFromBase" : true,
      "bpartnerId2HierarchyContracts" : {
        "100009" : {
          "@type" : "HierarchyContract",
          "id" : 100010,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        },
        "100012" : {
          "@type" : "HierarchyContract",
          "id" : 100013,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        }
      },
      "commissionType" : "HIERARCHY_COMMISSION"
    },
    "level" : 10,
    "beneficiary" : {
      "bPartnerId" : 100009
    },
    "facts" : [ {
      "timestamp" : "2019-09-17T11:49:25Z",
      "state" : "FORECASTED",
      "points" : 10
    }, {
      "timestamp" : "2019-09-17T11:49:35Z",
      "state" : "FORECASTED",
      "points" : -9
    }, {
      "timestamp" : "2019-09-17T11:49:45Z",
      "state" : "INVOICEABLE",
      "points" : 1.1
    }, {
      "timestamp" : "2019-09-17T11:49:55Z",
      "state" : "INVOICED",
      "points" : 1.2
    } ],
    "payer" : {
      "bpartnerId" : 1001
    },
    "soTrx" : "PURCHASE",
    "forecastedPointsSum" : 1,
    "invoiceablePointsSum" : 1.1,
    "invoicedPointsSum" : 1.2,
    "contract" : {
      "@type" : "HierarchyContract",
      "id" : 100010,
      "pointsPrecision" : 2,
      "commissionSettingsLineId" : 100007,
      "commissionPercent" : 10,
      "simulation" : false
    },
    "commissionProductId" : 100003
  }, {
    "id" : 100020,
    "config" : {
      "@type" : "HierarchyConfig",
      "id" : 100005,
      "commissionProductId" : 100003,
      "subtractLowerLevelCommissionFromBase" : true,
      "bpartnerId2HierarchyContracts" : {
        "100009" : {
          "@type" : "HierarchyContract",
          "id" : 100010,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        },
        "100012" : {
          "@type" : "HierarchyContract",
          "id" : 100013,
          "pointsPrecision" : 2,
          "commissionSettingsLineId" : 100007,
          "commissionPercent" : 10,
          "simulation" : false
        }
      },
      "commissionType" : "HIERARCHY_COMMISSION"
    },
    "level" : 20,
    "beneficiary" : {
      "bPartnerId" : 100012
    },
    "facts" : [ {
      "timestamp" : "2019-09-17T11:50:05Z",
      "state" : "FORECASTED",
      "points" : 2
    }, {
      "timestamp" : "2019-09-17T11:50:15Z",
      "state" : "INVOICEABLE",
      "points" : 2.1
    }, {
      "timestamp" : "2019-09-17T11:50:25Z",
      "state" : "INVOICED",
      "points" : 10
    }, {
      "timestamp" : "2019-09-17T11:50:35Z",
      "state" : "INVOICED",
      "points" : -7.8
    } ],
    "payer" : {
      "bpartnerId" : 1001
    },
    "soTrx" : "PURCHASE",
    "forecastedPointsSum" : 2,
    "invoiceablePointsSum" : 2.1,
    "invoicedPointsSum" : 2.2,
    "contract" : {
      "@type" : "HierarchyContract",
      "id" : 100013,
      "pointsPrecision" : 2,
      "commissionSettingsLineId" : 100007,
      "commissionPercent" : 10,
      "simulation" : false
    },
    "commissionProductId" : 100003
  } ]
} ]