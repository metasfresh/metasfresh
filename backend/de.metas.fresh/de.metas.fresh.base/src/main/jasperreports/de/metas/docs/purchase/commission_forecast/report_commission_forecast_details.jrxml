<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report_details_points" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isSummaryNewPage="true" resourceBundle="de/metas/docs/purchase/commission_forecast/report" uuid="9cbb1211-c2e8-4a8e-966b-e564bfc4c4f5">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Remote"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.report.description" value=""/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="ad_language" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="C_BPartner_SalesRep_ID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT *
FROM de_metas_endcustomer_fresh_reports.Docs_Purchase_Commission_Forecast($P{C_BPartner_SalesRep_ID},$P{ad_language});]]>
	</queryString>
	<field name="documentno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="documentno"/>
		<property name="com.jaspersoft.studio.field.label" value="documentno"/>
	</field>
	<field name="poreference" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="poreference"/>
		<property name="com.jaspersoft.studio.field.label" value="poreference"/>
	</field>
	<field name="dateordered" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="dateordered"/>
		<property name="com.jaspersoft.studio.field.label" value="dateordered"/>
	</field>
	<field name="bpvalue" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="bpvalue"/>
		<property name="com.jaspersoft.studio.field.label" value="bpvalue"/>
	</field>
	<field name="bpname" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="bpname"/>
		<property name="com.jaspersoft.studio.field.label" value="bpname"/>
	</field>
	<field name="productvalue" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="productvalue"/>
		<property name="com.jaspersoft.studio.field.label" value="productvalue"/>
	</field>
	<field name="productname" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="productname"/>
		<property name="com.jaspersoft.studio.field.label" value="productname"/>
	</field>
	<field name="qtyentered" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="qtyentered"/>
		<property name="com.jaspersoft.studio.field.label" value="qtyentered"/>
	</field>
	<field name="uom" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="uom"/>
		<property name="com.jaspersoft.studio.field.label" value="uom"/>
	</field>
	<field name="billed" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="billed"/>
		<property name="com.jaspersoft.studio.field.label" value="billed"/>
	</field>
	<field name="percent" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="percent"/>
		<property name="com.jaspersoft.studio.field.label" value="percent"/>
	</field>
	<field name="forecast" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="forecast"/>
		<property name="com.jaspersoft.studio.field.label" value="forecast"/>
	</field>
	<field name="deliverytoaddress" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="deliverytoaddress"/>
		<property name="com.jaspersoft.studio.field.label" value="deliverytoaddress"/>
	</field>
	<variable name="billed_sum" class="java.math.BigDecimal" resetType="Group" resetGroup="Order" calculation="Sum">
		<variableExpression><![CDATA[$F{billed}]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<variable name="forecast_sum" class="java.math.BigDecimal" resetType="Group" resetGroup="Order" calculation="Sum">
		<variableExpression><![CDATA[$F{forecast}]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<group name="Order">
		<groupExpression><![CDATA[$F{documentno}]]></groupExpression>
		<groupHeader>
			<band height="15" splitType="Prevent">
				<textField textAdjust="StretchHeight" isBlankWhenNull="true">
					<reportElement x="50" y="1" width="370" height="13" uuid="e18b333c-28db-48f4-9689-76c3f6d3cc3c"/>
					<textElement>
						<font fontName="Arial" size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{POrder} + $F{documentno}+ ($F{deliverytoaddress} != null ? "\n" + $R{deliverytoaddress} + $F{deliverytoaddress} :  " ")]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="15" splitType="Prevent">
				<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="460" y="2" width="60" height="12" uuid="b7cf848a-c0ab-4817-bb63-c5386011dbbd"/>
					<textElement textAlignment="Right" markup="html">
						<font fontName="Arial" size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["&Sigma;      " +( $V{forecast_sum} != null ?  $V{forecast_sum} : "")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="339" y="2" width="70" height="12" uuid="273264b0-7c78-4d3e-acde-845834d2c66e"/>
					<textElement textAlignment="Right" markup="html">
						<font fontName="Arial" size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["&Sigma;      " +  ($V{billed_sum}!=null ? $V{billed_sum} : "")]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="Group_Bpartner">
		<groupExpression><![CDATA[$F{bpvalue}]]></groupExpression>
		<groupHeader>
			<band height="14" splitType="Prevent">
				<textField textAdjust="StretchHeight" isBlankWhenNull="true">
					<reportElement x="50" y="1" width="370" height="12" uuid="91d0da46-099d-4d6a-a36f-76a50f6e7610"/>
					<textElement>
						<font fontName="Arial" size="9" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{bpvalue}+ " "+$F{bpname}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<pageHeader>
		<band height="98" splitType="Prevent">
			<textField>
				<reportElement x="50" y="71" width="203" height="25" backcolor="#D9D7D7" uuid="18a69f3e-bf8a-406e-ad71-627592b23f7b"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{Article}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="241" y="71" width="52" height="25" backcolor="#D9D7D7" uuid="a2dc306c-c273-4989-9f97-994063d86ac6"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{Quantity}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="295" y="71" width="46" height="25" uuid="a164435c-a4f2-43d3-9ba3-421557d279c8"/>
				<textElement>
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{Unit}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="339" y="71" width="70" height="25" backcolor="#D9D7D7" uuid="24fcd3c9-c18e-4211-bce3-035d8356d755"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{billed}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="460" y="71" width="60" height="25" backcolor="#D9D7D7" uuid="ae273795-9e92-4a1a-8e20-81134a8be356"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{forecast}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="180" y="18" width="240" height="30" uuid="9ef59085-2d42-45d6-b154-86635b95ca2d"/>
				<textElement textAlignment="Center">
					<font size="20"/>
				</textElement>
				<text><![CDATA[Provision Prognose]]></text>
			</staticText>
			<textField>
				<reportElement x="409" y="71" width="51" height="25" uuid="3fe2e68f-0e3c-4a3a-99a4-8a40e5aa4fcc"/>
				<box leftPadding="0" rightPadding="2"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{percent}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="14" splitType="Prevent">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="50" y="0" width="203" height="13" uuid="c348b769-49f5-4733-b2bd-bc7d67826d14"/>
				<textElement>
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productname}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="253" y="0" width="40" height="13" uuid="0c15b2e7-a40a-4525-a9f2-a05b6cfa4703"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtyentered}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="295" y="0" width="46" height="13" uuid="503bad58-773d-4b00-91f0-aaf93cec5e80"/>
				<textElement>
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="339" y="0" width="70" height="13" uuid="4372a570-3672-4c61-9bea-11b86ce88d06"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{billed}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="460" y="0" width="60" height="13" uuid="b0242f01-1a18-4879-8ab4-db129aaac9f0"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{forecast}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.##%;(#,##0.##) %" isBlankWhenNull="true">
				<reportElement x="409" y="0" width="51" height="13" uuid="4f2fc18d-d66e-45f8-b6a9-a8b4a3b89c6a"/>
				<box leftPadding="0" rightPadding="2"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[
($F{percent} != null && $F{percent}.intValue() > 0 ? $F{percent} + " %" :  " ")]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="24">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</pageFooter>
</jasperReport>
